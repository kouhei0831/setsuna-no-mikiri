# 刹那の見切り - ゲーム設計書

## 1. ゲーム概要

### 1.1 ゲームタイトル
**刹那の見切り**

### 1.2 ゲームジャンル
- [x] アクション
- [ ] RPG
- [ ] パズル
- [ ] シューティング
- [x] その他: ミニゲーム（カービィのミニゲームパロディ）

### 1.3 コンセプト
DXC Technology社内イベント「ファミリーデイ2025」で社員のお子様に楽しんでもらうためのミニゲーム。
カービィのミニゲームをパロディとした「刹那の見切り」をテーマにした短時間プレイ可能なアクションゲーム。

#### 新ストーリーコンセプト
**「DXCのIT<ruby>アイティー</ruby>をまもろう」** - プレイヤーは勇敢な守護者として、DXCの大切なIT<ruby>アイティー</ruby>（PC<ruby>ピーシー</ruby>、クラウド、AI<ruby>エーアイ</ruby>等）を悪いやつから守るヒーローです。
ウイルス、こしょう、サイバーこうげきなどの危険がIT<ruby>アイティー</ruby>に迫った瞬間、素早い反応で阻止する防御アクションゲーム。

DXC Technologyのブランドイメージを活用し、親子で一緒に楽しめるシンプルで中毒性のあるゲームプレイを提供する。
テクノロジーを守る正義のヒーローという設定で、DXCの「Technology is our business」の価値観を子供向けに表現。

#### イベント概要
- **イベント名**: DXC Technology ファミリーデイ 2025
- **対象**: 社員のお子様（3歳～8歳を中心）
- **目的**: 親子でのコミュニケーション促進、DXCブランドの親しみやすさ向上

#### 参考イメージ
![ゲーム画面例1](images/スクリーンショット%202025-07-12%20234819.png)
![ゲーム画面例2](images/スクリーンショット%202025-07-12%20234836.png)
![ゲーム画面例3](images/image.png)
![ゲーム画面例4](images/スクリーンショット%202025-07-12%20234850.png)


*上記画像は「刹那の見切り」ゲームの参考イメージです。視覚的シグナルに反応してボタンを押すシンプルなゲームプレイを想定しています。リズムゲームではなく、反射神経や集中力を使うアクションゲームです。*

### 1.4 ターゲット層
- **年齢層**: 小学校低学年以下（3歳～8歳）
- **プレイヤー層**: DXC社員のお子様、親子で一緒に楽しむファミリー層
- **イベント環境**: ファミリーデイ会場での短時間プレイ（待ち時間なし）
- **プラットフォーム**: PC、タブレット、スマートフォン（会場のWi-Fi環境対応） 

## 2. ゲームメカニクス

### 2.1 コアメカニクス
「刹那の見切り」の核となるゲームシステム（IT防衛戦バージョン）：

#### 防衛システム
- **概要**: 画面に守るべきIT（アイティー）（PC（ピーシー）、クラウド、AI（エーアイ）等）が表示され、それらに迫る悪いやつ（ウイルス、こしょう等）を検知した瞬間にボタンを押して阻止するシステム
- **発動条件**: 悪いやつが接近した瞬間の視覚的シグナル（警告音、赤い警告マーク、敵の攻撃エフェクト等）に反応して入力（スペースキー、クリック、タップ）
- **効果**: 適切なタイミングで阻止できればIT（アイティー）を守れる、成功時は防御シールドエフェクトと「守った！」メッセージ
- **IT（アイティー）体力システム**: 各IT（アイティー）は2回まで攻撃に耐えられる
  - 1回目の失敗: normal状態 → damaged状態に変化、「あぶない！」警告、ゲーム続行
  - 2回目の失敗: damaged状態 → ko状態に変化、「やられた！」でゲームオーバー
- **制限**: シグナルの表示時間と反応時間は幼児でも対応しやすい設定

#### 脅威検知システム
- **精密度**: 2段階（防御成功/防御失敗）のシンプルな判定（幼児向けに簡素化）
- **判定方法**: 悪いやつが近づく時の視覚的シグナルに対する反応速度で判定
- **判定フレーム**: ステージごとに設定された固定値（後のステージほど短い、より高速な悪いやつが登場）
- **フィードバック**: 即座に結果表示、成功時は「IT（アイティー）を守った！」大きなシールドエフェクトと効果音で褒める、失敗時も「次は守ろう！」と励ます

### 2.2 ゲームフロー（DXCのIT（アイティー）をまもろう）
1. **開始**: タイトル画面→ゲーム開始（直接メインゲームへ）
2. **メインループ**: ステージ開始→IT（アイティー）表示→悪いやつが近づく→警告シグナル→防御入力→結果表示（守った/やられた）→ステージクリア→次のステージ
3. **終了条件**: 全ステージクリア（5-7ステージ程度、約2-3分プレイ時間）、失敗してもリトライ可能

### 2.2.1 詳細ゲームフロー

#### A. タイトル画面フロー
```
タイトル画面表示
├── 「スタート」ボタン → C. メインゲーム開始
└── （隠しコマンド）特定キー入力 → 設定画面（難易度・音量調整）→ タイトル画面に戻る
```

#### B. メインゲームフロー（第1ステージ開始時に簡易説明）
```
ステージ開始
├── 第1ステージのみ：「DXCのIT（アイティー）をまもろう！タップでぼうぎょ！」メッセージ（2秒）
├── ステージ表示（「レベル1: PC（ピーシー）をまもろう」等、2秒）
├── 暗転（0.5秒）
├── IT（アイティー）、プレイヤーキャラ、悪いやつが配置済み状態で表示
└── 防衛ラウンド開始
    ├── 悪いやつ接近フェーズ
    │   ├── カットイン表示（0.5秒）
    │   │   ├── 画面上部：プレイヤーキャラのcutin状態表示
    │   │   └── 画面下部：悪いやつのcutin状態表示
    │   ├── 警告シグナル表示（signal_button_active）
    │   ├── プレイヤー入力待ち（1-3秒、ステージにより変動）
    │   ├── 結果判定
    │   │   ├── 成功時：
    │   │   │   ├── シールドエフェクト表示（0.5秒）
    │   │   │   ├── 悪いやつをko状態に変更（0.5秒）
    │   │   │   ├── IT（アイティー）をvictory状態に変更（0.5秒）
    │   │   │   ├── プレイヤーをvictory状態に変更（0.5秒）
    │   │   │   ├── 「まもった！」メッセージ + 効果音（1秒）
    │   │   │   ├── スコア加算表示（0.5秒）
    │   │   │   └── 「ステージクリア！」→ 次ステージ
    │   │   └── 失敗時：
    │   │       ├── IT（アイティー）の状態確認
    │   │       ├── normal状態の場合（1回目の失敗）：
    │   │       │   ├── IT（アイティー）をdamaged状態に変更（0.5秒）
    │   │       │   ├── プレイヤーをdamaged状態に変更（0.5秒）
    │   │       │   ├── 悪いやつをvictory状態に変更（0.5秒）
    │   │       │   ├── 「あぶない！つぎはきをつけて！」メッセージ + 警告音（1.5秒）
    │   │       │   ├── 悪いやつとプレイヤーをnormal状態に戻す（0.5秒）
    │   │       │   └── 同じ悪いやつで2回目のチャンス（カットインから再開）
    │   │       └── damaged状態の場合（2回目の失敗）：
    │   │           ├── IT（アイティー）をko状態に変更（0.5秒）
    │   │           ├── プレイヤーをko状態に変更（0.5秒）
    │   │           ├── 悪いやつをvictory状態に変更（0.5秒）
    │   │           ├── 「やられた！」メッセージ + 効果音（1秒）
    │   │           └── 選択肢表示（大きなボタン）
    │   │               ├── 「もういちど」ボタン → 同じステージから再開
    │   │               └── 「おわり」ボタン → 終了処理
    │   │                   ├── 「あそんでくれてありがとう！」メッセージ（2秒）
    │   │                   ├── DXCブランディング表示（2秒）
    │   │                   │   ├── DXCロゴ
    │   │                   │   └── 「ファミリーデイにさんかしてくれてありがとう」
    │   │                   └── A. タイトル画面に自動遷移（1秒後）
```

#### C. 全ステージクリア画面フロー
```
エンディング画面表示
├── 「ぜんぶクリア！」祝福表示（3秒）
├── プレイヤーキャラとIT（アイティー）全てがvictory状態（2秒）
├── 「DXCのみらいのIT（アイティー）まもりたいだね！」メッセージ（3秒）
├── 最終結果表示（ぼうぎょ成功数、プレイ時間）（3秒）
├── DXC特別メッセージ（5秒）
│   ├── 「おめでとう！〇個のIT（アイティー）をまもりました！」
│   ├── DXCロゴ + 企業メッセージ
│   └── 「また来年のファミリーデイでおあいしましょう！」
└── A. タイトル画面に自動遷移（5秒後）
```

#### ファミリーデイ向け配慮
- **プレイ時間**: 1プレイ2-3分で完結（待ち時間短縮）
- **親子共有**: 大人も一緒に楽しめる適度な挑戦要素、「いっしょにIT（アイティー）をまもろう！」
- **次の人への配慮**: クリア後は自動的に結果画面→タイトルに戻る
- **教育的要素**: IT（アイティー）のあんぜんのたいせつさを楽しく学べる

### 2.3 難易度設計（悪いやつレベル）
- **ステージ進行型**: ステージが進むにつれて悪いやつの種類と攻撃速度が増加する方式
- **ステージ1-2**: 初心者向け、基本的なウイルス（3歳～5歳でも防御しやすい、ゆっくりとした悪いやつ）
- **ステージ3-4**: 中級者向け、複数の悪いやつやこしょう（6歳～8歳向け）
- **ステージ5-7**: 上級者向け、高速サイバーこうげきや複合悪いやつ（大人でも挑戦的）
- **悪いやつの種類**: ウイルス（赤い虫のようなもの）→ こしょう（稲妻）→ サイバーこうげき（暗い影）→ しぜんさいがい（雲や雷）
- **強化要素**: 悪いやつの接近速度、警告時間の短縮（1回勝負なのでシンプル） 

## 3. ユーザーインターフェース（UI）

### 3.1 メインメニュー
- [ ] ゲーム開始（大きなボタンのみ）
- [ ] 隠しコマンド（設定画面アクセス用、環境に合わせた難易度・音量調整）

### 3.2 ゲーム中UI（DXCのIT（アイティー）をまもろう）
- **ステージ表示**: 現在のステージ数を大きく表示（「レベル 1: PC（ピーシー）をまもろう」「レベル 2: クラウドをまもろう」など）
- **ぼうぎょスコア**: 守ったステージ数を表示（星やシールド形式）
- **IT（アイティー）表示**: 画面中央に守るべきIT（アイティー）（PC（ピーシー）、サーバー、クラウド、AI（エーアイ）等）を表示
- **IT（アイティー）体力表示**: IT（アイティー）の状態を視覚的に表示
  - normal状態: 正常な色と表情で表示
  - damaged状態: 少し暗い色、心配そうな表情で表示
  - ko状態: 灰色、倒れた状態で表示
- **カットイン表示**: 悪いやつ接近時の演出
  - 画面上部: プレイヤーキャラのcutin状態（決意の表情、戦闘ポーズ）
  - 画面下部: 悪いやつのcutin状態（威嚇の表情、攻撃ポーズ）
  - 表示時間: 0.5秒の短時間で緊張感を演出
- **あぶない警告**: 「あぶない！」「まもって！」などの分かりやすい警告メッセージ
- **入力ガイド**: 「タップしてまもろう！」「IT（アイティー）をまもれ！」などの励ましメッセージ
- **ぼうぎょフィードバック**: 成功時「すごい！まもれた！」1回目失敗時「あぶない！つぎはきをつけて！」2回目失敗時「やられた！」

### 3.3 操作方法
- **入力デバイス**: 大きなボタン1つのみ（スペースキー、クリック、タップ）
- **キー配置**: 画面全体がタップエリア（幼児が押しやすい）
- **操作説明**: 画面上にアニメーション付きの手マークで「ここをタップ！」表示 

## 4. ビジュアルデザイン

### 4.1 アートスタイル（DXCのIT（アイティー）をまもろうテーマ）
- **全体的な雰囲気**: DXC Technologyのコーポレートカラー（紫系）をベースとしたクリーンで親しみやすいデザイン
- **色彩設計**: DXCパープル、白、グレーを基調に、IT（アイティー）は暖色系、悪いやつは赤/黒系で明確に区別
- **キャラクターデザイン**: 守るべきIT（アイティー）（PC（ピーシー）、サーバー、クラウド、AI（エーアイ））は親しみやすく可愛らしく、悪いやつ（ウイルス、こしょう）は分かりやすく危険な外見

### 4.2 アニメーション（ぼうぎょアクション）
- **カットイン演出**: 悪いやつ接近時の緊張感演出
  - 画面上部から主人公キャラがcutin状態でスライドイン（0.25秒）
  - 画面下部から悪いやつがcutin状態でスライドイン（0.25秒）
  - 両者の対峙演出で緊張感を高める
- **ぼうぎょ成功時**: ぼうぎょシールドエフェクト、IT（アイティー）が光る、パーティクル爆発
- **悪いやつが近づく時**: 警告アニメーション、きんきゅう点滅、悪いやつの移動エフェクト
- **エフェクト**: 成功時のシールドとキラキラエフェクト、失敗時のダメージシェイク、IT（アイティー）の復活アニメーション 

## 5. サウンドデザイン

### 5.1 BGM
- **メインテーマ**: 軽快でキャッチーなチップチューン風BGM
- **ゲーム中BGM**: タイミング取りやすいビート重視のBGM（120-140 BPM）
- **ボス戦BGM**: 特別ステージ用の少し激しめのBGM

### 5.2 効果音（DXCのIT（アイティー）をまもろう）
- **ぼうぎょ音**: 成功時「キュイン！」（シールド展開音）、失敗時「ブー」（警報音）
- **悪いやつ音**: ウイルスの接近音、こしょうの警告音
- **IT（アイティー）音**: PC（ピーシー）起動音、サーバー作動音、クラウド接続音
- **UI音**: ボタン音、メニュー音など 

## 6. 技術仕様

### 6.1 開発環境
- **ゲームエンジン**: Phaser.js（HTML5ゲームフレームワーク）
  - 理由: Webブラウザ対応、軽量、レスポンシブ対応
- **プログラミング言語**: JavaScript/TypeScript
- **開発ツール**: VS Code, Git, Node.js

### 6.2 プラットフォーム
- [x] PC (Windows/Mac/Linux)
- [x] モバイル (iOS/Android)
- [x] Web ブラウザ
- [ ] ゲーム機

### 6.3 パフォーマンス目標
- **フレームレート**: 60 FPS
- **解像度**: レスポンシブ対応（320px～1920px幅）
- **最小システム要件**: Chrome 80+, Safari 13+, Firefox 75+ 

## 7. 開発計画

### 7.1 開発フェーズ

#### フェーズ1: プロトタイプ
- [ ] 基本的な見切りシステム実装
- [ ] 簡単なUI作成
- [ ] 操作感の確認
- **期間**: 1-2週間

#### フェーズ2: コア機能開発
- [ ] ゲームメカニクス完成
- [ ] ピクセルアートテクスチャ実装（AI生成）
- [ ] サウンド仮実装
- [ ] レスポンシブ対応
- **期間**: 2-3週間

#### フェーズ3: 完成・調整
- [ ] バランス調整
- [ ] DXCブランディング適用
- [ ] クリア後情報表示機能
- [ ] バグ修正・最終調整
- **期間**: 1週間

### 7.2 マイルストーン
- **2025年7月27日**: プロトタイプ完成
- **2025年8月10日**: アルファ版完成
- **2025年8月15日**: ベータ版完成
- **2025年8月22日**: 最終版完成

## 8. 参考資料

### 8.1 参考ゲーム

- 星のカービィスーパーデラックス
  
### 8.2 参考資料・文献

- Phaser.js公式ドキュメント
- DXC Technologyブランドガイドライン
- Web Audio API仕様書

## 9. 備考・アイデア

### 9.1 追加要素候補

#### ファミリーデイ特別機能
- **親子協力モード**: 大人と子供が交互にプレイする機能
- **ランキング機能**: その日限定のローカルランキング表示
- **DXCキャラクター**: 会社マスコットをゲーム内に登場させる

#### イベント運営支援機能
- **プレイ統計**: 参加者数や平均プレイ時間の記録
- **音量自動調整**: 会場の騒音レベルに応じた音量調整

### 9.2 技術的課題

#### ステージ進行システムの実装
- **ステージデータ管理**: 各ステージのスピード設定と表示間隔
- **進行状態管理**: ステージクリア判定とセーブデータ
- **バランス調整**: 各ステージの適切なスピード設定

#### その他の技術課題
- モバイルでの音声遅延対策
- 異なる画面サイズでのUI調整
- AI生成テクスチャの品質確保

### 9.3 クリア後の情報表示機能（IT防衛戦版）

#### ファミリーデイ向けメッセージ
- **お祝いメッセージ**: 「おめでとう！DXCのみらいのIT（アイティー）まもりたいだね！」
- **ぼうぎょ成果**: 「〇個のIT（アイティー）をまもりました！」「〇ステージクリアしました！」
- **親向けメッセージ**: 「DXC Technologyはさいしんぎじゅつでおきゃくさまのデジタルしさんをまもり、みらいをそうぞうしています」
- **イベント感謝**: 「ファミリーデイにさんかしていただきありがとうございます」
- **次回案内**: 「また来年のファミリーデイでおあいしましょう！」

#### 企業ブランディング要素
- DXC Technologyのロゴ表示
- 「Technology is our business. Innovation is our passion.」のタグライン
- 家族向けの温かいメッセージでDXCの企業文化をアピール

---

**最終更新日**: 2025年7月13日  
**作成者**: kohei  
**バージョン**: 1.1
